// 28. Найдите индекс первого вхождения в строку

// Даны две строки: «needle» и «haystack». 
// Верните индекс первого вхождения «needle» в «haystack» 
// или -1, если «needle» не является частью «стога сена». 

// Пример 1:
// Входные данные: «haystack» = «sadbutsad», «needle» = «sad» 
// Выходные данные: 1
// Объяснение: «sad» встречается по индексу 1 и 7.
// Первое вхождение находится по индексу 1, поэтому мы возвращаем 1.

// Пример 2:
// Входные данные: «haystack» = «leetcode», «needle» = «leeto»
// Выходные данные: -1
// Объяснение: «leeto» не встречается в «leetcode», поэтому мы возвращаем -1.

// Пример 3:
// Входные данные: «haystack» = «строилистроилиинаконецпостроили», «needle» = «строили» 
// Выходные данные: 0

// Пример 4:
// Входные данные: «haystack» = «наконецпостроили», «needle» = «строили» 
// Выходные данные: 10

// Пример 5:
// Входные данные: «haystack» = «каквыяхтуназовете», «needle» = «яхта»
// Выходные данные: -1
 
// Ограничения:
// 1 <= haystack.length, needle.length <= 104
// haystack и needle состоят только из строчных букв.

// 28. Find the Index of the First Occurrence in a String // LeetCode URL: https://leetcode.com/problems/find-the-index-of-the-first-occurrence-in-a-string/?envType=study-plan-v2&envId=top-interview-150

Функция НайтиПодстроку(ИсходнаяСтрока, ИскомаяПодстрока) 
    // Пустая подстрока всегда есть в начале строки
    Если СтрДлина(ИскомаяПодстрока) = 0 Тогда
        Возврат 0;
    КонецЕсли;

    ДлинаСтроки = СтрДлина(ИсходнаяСтрока);
    ДлинаПодстроки = СтрДлина(ИскомаяПодстрока);

    // Проходим по исходной строке, чтобы найти начало искомой подстроки
    // Идем до позиции, где оставшаяся часть строки меньше длины подстроки
    Для НачальныйИндекс = 1 По ДлинаСтроки - ДлинаПодстроки + 1 Цикл
        // Предполагаем, что подстрока найдена, пока не доказано обратное
        ПодстрокаНайдена = Истина;

        // Проверяем каждый символ искомой подстроки на совпадение с символами исходной строки
        Для Смещение = 0 По ДлинаПодстроки - 1 Цикл
            // Вычисляем позиции символов в исходной строке и подстроке
            ПозицияВСтроке = НачальныйИндекс + Смещение;
            ПозицияВПодстроке = Смещение + 1;

            // Сравниваем символы исходной строки и подстроки
            Если Сред(ИсходнаяСтрока, ПозицияВСтроке, 1) <> Сред(ИскомаяПодстрока, ПозицияВПодстроке, 1) Тогда
                // Если символы не совпадают, ставим флаг в Ложь, дальнейшая проверка не нужна
                ПодстрокаНайдена = Ложь;
                Прервать; 
            КонецЕсли;
        КонецЦикла;

        // Если все символы подстроки совпали с частью строки, возвращаем текущий индекс
		Если ПодстрокаНайдена Тогда
			// Индекс в 1С начинается с 1
            Возврат НачальныйИндекс; 
        КонецЕсли;
    КонецЦикла;

    // Если подстрока не найдена, возвращаем -1
    Возврат -1;
КонецФункции

Процедура ПриНачалеРаботыСистемы()
    // Пример 1
    ИсходнаяСтрока1 = "hello";
    ИскомаяПодстрока1 = "ll";
    Сообщить("Результат для примера 1: " + НайтиПодстроку(ИсходнаяСтрока1, ИскомаяПодстрока1));

    // Пример 2
    ИсходнаяСтрока2 = "hello";
    ИскомаяПодстрока2 = "world";
    Сообщить("Результат для примера 2: " + НайтиПодстроку(ИсходнаяСтрока2, ИскомаяПодстрока2));

    // Пример 3
    ИсходнаяСтрока3 = "hello";
    ИскомаяПодстрока3 = "";
    Сообщить("Результат для примера 3: " + НайтиПодстроку(ИсходнаяСтрока3, ИскомаяПодстрока3)); 
	
	// Пример 4
    ИсходнаяСтрока4 = "sadbutsad";
    ИскомаяПодстрока4 = "sad";
    Сообщить("Результат для примера 4: " + НайтиПодстроку(ИсходнаяСтрока4, ИскомаяПодстрока4));

    // Пример 5
    ИсходнаяСтрока5 = "leetcode";
    ИскомаяПодстрока5 = "leeto";
    Сообщить("Результат для примера 5: " + НайтиПодстроку(ИсходнаяСтрока5, ИскомаяПодстрока5));
	
	// Пример 6
    ИсходнаяСтрока6 = "строилистроилинаконецпостроили";
    ИскомаяПодстрока6 = "строили";
    Сообщить("Результат для примера 6: " + НайтиПодстроку(ИсходнаяСтрока6, ИскомаяПодстрока6));

    // Пример 7
    ИсходнаяСтрока7 = "наконецпостроили";
    ИскомаяПодстрока7 = "строили";
    Сообщить("Результат для примера 7: " + НайтиПодстроку(ИсходнаяСтрока7, ИскомаяПодстрока7));

	// Пример 8
    ИсходнаяСтрока8 = "каквыяхтуназовете";
    ИскомаяПодстрока8 = "яхта";
    Сообщить("Результат для примера 8: " + НайтиПодстроку(ИсходнаяСтрока8, ИскомаяПодстрока8));
    
КонецПроцедуры