// 13. Преобразование римских цифр в целые числа

// Римские цифры обозначаются семью различными символами: I, V, X, L, C, D и M.

// Символ       Значение
// I             1
// V             5
// X             10
// L             50
// C             100
// D             500
// M             1000

// Например, римскими цифрами 2 записывается как II, просто две единицы складываются вместе. 
// 12 записывается как XII, что означает просто X + II. 
// Число 27 записывается как XXVII, что означает XX + V + II.
// Римские цифры обычно пишутся от наибольшего к наименьшему слева направо. 

// Однако цифра, обозначающая четыре, не является IIII. 
// Вместо этого число четыре записывается как IV. 
// Поскольку единица стоит перед пятью, мы вычитаем ее, и получается четыре. 
// Тот же принцип применяется к числу девять, которое записывается как IX. 

// Есть шесть случаев, когда используется вычитание:
// I можно поставить перед V (5) и X (10), чтобы получить 4 и 9. 
// X можно поставить перед L (50) и C (100), чтобы получить 40 и 90. 
// C можно поставить перед D (500) и M (1000), чтобы получить 400 и 900.

// Дано римское число, преобразуйте его в целое число.

// Пример 1:
// Входные данные: s = "III"
// Выходные данные: 3
// Объяснение: III = 3.

// Пример 2:
// Входные данные: s = "LVIII"
// Результат: 58
// Объяснение: L = 50, V = 5, III = 3.

// Пример 3:
// Входные данные: s = "MCMXCIV"
// Результат: 1994
// Объяснение: M = 1000, CM = 900, XC = 90 и IV = 4.

// 13. Roman to Integer // LeetCode URL: https://leetcode.com/problems/roman-to-integer/?envType=study-plan-v2&envId=top-interview-150

Функция РимскоеВЧисло(РимскаяСтрока) 
    // Создаем таблицу соответствий римских символов и их значений
    Соответствия = Новый Соответствие;
    Соответствия.Вставить("I", 1);
    Соответствия.Вставить("V", 5);
    Соответствия.Вставить("X", 10);
    Соответствия.Вставить("L", 50);
    Соответствия.Вставить("C", 100);
    Соответствия.Вставить("D", 500);
    Соответствия.Вставить("M", 1000);

    Итог = 0; // Итоговое значение
    ПредыдущееЗначение = 0; // Значение предыдущего символа

    // Проходим по строке с конца к началу
    Для Индекс = 0 По СтрДлина(РимскаяСтрока) - 1 Цикл
		ОбратныйИндекс = СтрДлина(РимскаяСтрока) - 1 - Индекс;

        ТекущийСимвол = Сред(РимскаяСтрока, ОбратныйИндекс + 1, 1); // Получаем текущий символ
        ТекущееЗначение = Соответствия[ТекущийСимвол]; // Получаем значение символа

		// Если текущий символ меньше предыдущего, вычитаем его значение
        Если ТекущееЗначение < ПредыдущееЗначение Тогда
            Итог = Итог - ТекущееЗначение;
        Иначе
            // Иначе добавляем его значение
            Итог = Итог + ТекущееЗначение;
        КонецЕсли;

        // Обновляем предыдущее значение
        ПредыдущееЗначение = ТекущееЗначение;
    КонецЦикла;

    Возврат Итог;
КонецФункции

Процедура ПриНачалеРаботыСистемы()
    // Пример 1
    РимскаяСтрока1 = "III";
    Сообщить("Число для " + РимскаяСтрока1 + ": " + РимскоеВЧисло(РимскаяСтрока1));

    // Пример 2
    РимскаяСтрока2 = "IV";
    Сообщить("Число для " + РимскаяСтрока2 + ": " + РимскоеВЧисло(РимскаяСтрока2));

    // Пример 3
    РимскаяСтрока3 = "IX";
    Сообщить("Число для " + РимскаяСтрока3 + ": " + РимскоеВЧисло(РимскаяСтрока3));

    // Пример 4
    РимскаяСтрока4 = "LVIII";
    Сообщить("Число для " + РимскаяСтрока4 + ": " + РимскоеВЧисло(РимскаяСтрока4));

    // Пример 5
    РимскаяСтрока5 = "MCMXCIV";
    Сообщить("Число для " + РимскаяСтрока5 + ": " + РимскоеВЧисло(РимскаяСтрока5));
КонецПроцедуры