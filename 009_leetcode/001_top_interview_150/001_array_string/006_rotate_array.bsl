// 189. Сдвинуть массив

// Дан целочисленный массив nums, поверните его вправо на k шагов, где k — неотрицательное число.

// Пример 1:
// Входные данные: nums = [1, 2, 3, 4, 5, 6, 7], k = 3
// Выходные данные: [5, 6, 7, 1, 2, 3, 4]
// Объяснение: 
// сдвинуть на 1 шаг вправо: [7,1,2,3,4,5,6]
// сдвинуть на 2 шага вправо: [6,7,1,2,3,4,5]
// сдвинуть на 3 шага вправо: [5,6,7,1,2,3,4]

// Пример 2:
// Входные данные: nums = [-1,-100,3,99], k = 2
// Результат: [3,99,-1,-100]
// Объяснение: 
// сдвиньте на 1 шаг вправо: [99,-1,-100,3]
// сдвиньте на 2 шага вправо: [3,99,-1,-100]

// Ограничения:
// 1 <= числа.длина <= 105
// -2^31 <= числа[i] <= 2^31 - 1
// 0 <= k <= 105

// 189. Rotate Array // LeetCode URL: https://leetcode.com/problems/rotate-array/?envType=study-plan-v2&envId=top-interview-150

// Основная функция для сдвига массива
Процедура СдвинутьМассив(Массив, КоличествоСдвигов)
    ДлинаМассива = Массив.Количество(); 
    КоличествоСдвигов = КоличествоСдвигов % ДлинаМассива;  // Чтобы избежать лишних сдвигов, если КоличествоСдвигов > ДлинаМассива

    // Шаг 1: Разворачиваем весь массив: [1, 2, 3, 4, 5] станет [5, 4, 3, 2, 1]
    РазвернутьМассив(Массив, 0, ДлинаМассива - 1);

    // Шаг 2: Вернуть элементы, которые должны быть в начале, в их исходный порядок: [5, 4, 3, 2, 1] станет [4, 5, 3, 2, 1]
    РазвернутьМассив(Массив, 0, КоличествоСдвигов - 1);

    // Шаг 3: Вернуть оставшиеся элементы в их исходный порядок:  [4, 5, 3, 2, 1] станет [4, 5, 1, 2, 3]
    РазвернутьМассив(Массив, КоличествоСдвигов, ДлинаМассива - 1);
КонецПроцедуры

// Вспомогательная функция для разворота части массива
Процедура РазвернутьМассив(Массив, Начало, Конец)
    Пока Начало < Конец Цикл
        // Меняем местами элементы
        Временный = Массив[Начало];
        Массив[Начало] = Массив[Конец];
        Массив[Конец] = Временный;

        // Сдвигаем указатели
        Начало = Начало + 1;
        Конец = Конец - 1;
    КонецЦикла;
КонецПроцедуры

// Пример использования
Процедура ПриНачалеРаботыСистемы()
    // Пример 1
    Массив1 = Новый Массив;
	Массив1 = СтрРазделить("1,2,3,4,5,6,7", ",");
    СдвинутьМассив(Массив1, 3);
    Сообщить("Массив после поворота: " + СтрСоединить(Массив1, ", "));

	// Пример 2
	Массив2 = Новый Массив;
	Массив2 = СтрРазделить("-1,-100,3,99", ",");
	СдвинутьМассив(Массив2, 2);
	Сообщить("Массив после поворота: " + СтрСоединить(Массив2, ", "));
КонецПроцедуры